/**
 * Модуль для работы с языками
 * @module language
 */
;(function(factory) {
    var registeredInModuleLoader = false;
    if (typeof define === 'function' && define.amd) {
        define(['cookie'], factory(cookie));
        registeredInModuleLoader = true;
    }

    if (!registeredInModuleLoader) {
        window.core.language = factory();
    }
})(/** @lends module:language */function(cookie) {
    /**
     * Настройки
     * @private
     */
    var _settings = {
        default: 'ru'
    };

    /**
     * Получить язык
     * @param defaultValue значение по умолчанию (если нет cookie)
     */
    var getLid = function(defaultValue) {
        defaultValue = defaultValue || _settings.default;
        return cookie.get('lng', defaultValue);
    };

    /**
     * Проверить, нужно ли передавать значение языка сервисному методу
     */
    var isValidForService = function(lng) {
        return lng != _settings.default && lng.length == 2;
    };

    return {
        getLid: getLid,
        isValidForService: isValidForService
    }
});
