/**
 * Модуль для работы с партнерами
 * @module partner
 */
;(function(factory) {
    var registeredInModuleLoader = false;
    if (typeof define === 'function' && define.amd) {
        define(['jquery'], factory);
        registeredInModuleLoader = true;
    }

    if (!registeredInModuleLoader) {
        window.core.partner = factory();
    }
})(/** @lends module:partner */function() {
    var instance = null;

    var _config = {
        kassaDomains: ['kassabet.biz', 'sffs988.com', 'livekasscomp.com']
    };

    var i = function() {
        if (instance === null) {
            init();
        }
        return instance;
    };

    var init = function(config) {
        if (instance === null) {
            instance = new Partner(config);
        }
    };

    var Partner = function(config) {
        var self = this;

        self.config = $.extend(_config, config);

        // TODO use in flashObject
        self.getName = function() {
            switch (self.config.id) {
                case 75:
                    return 'Astekbet';
                    break;
                case 79:
                    return 'Fansport';
                    break;
                case 20:
                case 47:
                    return 'Stavkabet';
                    break;
                default:
                    return '';
            }
        };

        self.isKassa = function() {
            return self.config.kassaDomains.indexOf(window.location.hostname) != -1;
        };

        self.getParam = function (key, defaultValue) {
            defaultValue = defaultValue || null;
            if (self.config.hasOwnProperty[key]) {
                return self.config.hasOwnProperty[key];
            }

            return defaultValue;
        }
    };

    return {
        init: init,
        i: i
    };
});