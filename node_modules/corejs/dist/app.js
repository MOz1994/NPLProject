/**
 * Главный модуль приложения
 * @module app
 */
;(function(factory) {
    var registeredInModuleLoader = false;
    if (typeof define === 'function' && define.amd) {
        define(['jquery'], factory);
        registeredInModuleLoader = true;
    }

    if (!registeredInModuleLoader) {
        window.core = {
            app: factory()
        };
    }
})(function() {
    var instance = null;

    var _config = {
        debug: false
    };

    var i = function() {
        if (instance === null) {
            init();
        }
        return instance;
    };

    var init = function(config) {
        if (instance === null) {
            instance = new App(config);
        }
    };

    var App = function(config) {
        var self = this;
        self.config = $.extend(_config, config);

        self.getConfig = function() {
            return instance.config;
        };
    };

    return {
        init: init,
        i: i
    }
});