/**
 * Модуль для работы со всплывающими окнами
 * @module popup
 */
;(function(factory) {
    var registeredInModuleLoader = false;
    if (typeof define === 'function' && define.amd) {
        define(factory);
        registeredInModuleLoader = true;
    }

    if (!registeredInModuleLoader) {
        window.core.popup = factory();
    }
})(/** @lends module:popup */function() {
    /**
     * Показать попап
     * @param title заголовок
     * @param message сообщение
     * @param type тип
     */
    var show = function(title, message, type) {
        alert(message);
    };

    /**
     * Показать попап вида "ошибка"
     * @param errors ошибка(и) в виде строки или массива строк
     */
    var showErrors = function(errors) {
        var error = '',
            key;
        if (typeof errors === 'object') {
            for (key in errors) {
                error += errors[key] + '<br>';
            }
        }

        if (typeof errors === 'string') {
            error = errors;
        }

        if (error) {
            show(dictionary.message, message, 0);
        }
    };

    /**
     * Показать попап вида "успех"
     * @param msg сообщение
     */
    var showSuccess = function(msg) {
        show(dictionary.message, msg, 1);
    };

    /**
     * Показать попап вида "Информация"
     * @param msg сообщение
     */
    var showInfo = function(msg) {
        show(dictionary.message, msg, 2);
    };

    return {
        show: show,
        showErrors: showErrors,
        showSuccess: showSuccess,
        showInfo: showInfo
    }
});